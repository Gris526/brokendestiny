<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>D&D Character Creator</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="character-creator">
    <div class="header-container">
      <h1><i class="fas fa-dragon"></i> D&D Character Creator</h1>
      <button class="theme-toggle" id="theme-toggle">
        <i class="fas fa-moon"></i>
      </button>
    </div>
    
    <div class="tab-container">
      <div class="tab active" data-tab="stats">Base Stats</div>
      <div class="tab" data-tab="races">Races</div>
      <div class="tab" data-tab="archetypes">Archetypes</div>
    </div>

    <div class="tab-content" id="archetypes-tab">
      <div class="race-selector">
        <h3><i class="fas fa-chess-queen"></i> Archetype Selection</h3>
        <div id="archetype-slots">
          <!-- Default archetype slot will be added here -->
        </div>
        <div class="input-group">
          <button id="add-archetype"><i class="fas fa-plus"></i> Add Archetype</button>
          <button id="modify-archetype"><i class="fas fa-edit"></i> Modify/Add Archetype</button>
        </div>
      </div>
      <!-- Archetype Subclass Selection -->
      <div id="archetype-subclass-container" style="margin-top: 20px;">
        <h4><i class="fas fa-layer-group"></i> Subclass Selection</h4>
        <div id="subclass-selection"></div>
      </div>

      <!-- Archetype Level Benefits -->
      <div id="archetype-benefits-container" style="margin-top: 20px;">
        <h4><i class="fas fa-level-up-alt"></i> Level Benefits</h4>
        <div id="archetype-benefits"></div>
      </div>

      <!-- Archetype Modifiers Display - Now shows all archetype modifiers -->
      <div class="modifiers">
        <h3><i class="fas fa-bolt"></i> Archetype Modifiers</h3>
        <ul id="archetype-modifier-list"></ul>
      </div>
    </div>

    <div class="tab-content active" id="stats-tab">
      <div class="stats-editor">
        <h3><i class="fas fa-sliders-h"></i> Edit Base Stats</h3>
        <div class="stat-input-group">
          <div class="stat-input">
            <label for="base-strength">Strength</label>
            <input type="number" id="base-strength" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-speed">Speed</label>
            <input type="number" id="base-speed" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-resistance">Resistance</label>
            <input type="number" id="base-resistance" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-intelligence">Intelligence</label>
            <input type="number" id="base-intelligence" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-charisma">Charisma</label>
            <input type="number" id="base-charisma" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-maestry">Maestry</label>
            <input type="number" id="base-maestry" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-perception">Perception</label>
            <input type="number" id="base-perception" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-will">Will</label>
            <input type="number" id="base-will" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-bravery">Bravery</label>
            <input type="number" id="base-bravery" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-mana">Mana</label>
            <input type="number" id="base-mana" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-luck">Luck</label>
            <input type="number" id="base-luck" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-stealth">Stealth</label>
            <input type="number" id="base-stealth" value="5" min="0">
          </div>
          <div class="stat-input">
            <label for="base-size">Size</label>
            <input type="number" id="base-size" value="5" min="1">
          </div>
        </div>
        <button id="update-stats"><i class="fas fa-sync-alt"></i> Update Stats</button>
      </div>
  
      <div class="stats-preview">
        <h3><i class="fas fa-chart-bar"></i> Current Stats & Modifiers</h3>
        <div class="stat" id="strength">Strength: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="speed">Speed: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="resistance">Resistance: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="intelligence">Intelligence: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="charisma">Charisma: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="maestry">Maestry: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="perception">Perception: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="will">Will: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="bravery">Bravery: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="mana">Mana: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="luck">Luck: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="stealth">Stealth: <span class="stat-value">5</span> (Mod: <span class="mod-value">+0</span>)</div>
        <div class="stat" id="size">Size: <span class="stat-value">5</span> (<span class="size-value">1.50m</span>)</div>
      </div>
    </div>

    <div class="tab-content" id="races-tab">
      <!-- Race Selection -->
      <div class="race-selector">
        <h3><i class="fas fa-users"></i> Race Selection</h3>
        <div id="race-slots">
          <!-- Default race slot will be added here -->
        </div>
        <div class="input-group">
          <button id="add-race"><i class="fas fa-plus"></i> Add Race</button>
          <button id="modify-race"><i class="fas fa-edit"></i> Modify/Add Race</button>
        </div>
      </div>

      <!-- Extra Traits -->
      <div id="extra-traits-container"></div>

      <!-- Racial Modifiers Display -->
      <div class="modifiers">
        <h3><i class="fas fa-bolt"></i> Active Modifiers</h3>
        <ul id="modifier-list"></ul>
      </div>
    </div>

    <!-- JSON Export/Import -->
    <div class="json-tools">
      <h3><i class="fas fa-file-export"></i> Data Management</h3>
      <div class="input-group">
        <button id="export-data"><i class="fas fa-download"></i> Export Data</button>
        <button id="import-data"><i class="fas fa-upload"></i> Import Data</button>
        <input type="file" id="import-file" accept=".json" style="display: none;">
      </div>
      <div class="input-group" style="margin-top: 10px;">
        <input type="text" id="character-name" placeholder="Character Name">
        <button id="export-character"><i class="fas fa-user"></i> Export Character</button>
      </div>
    </div>
  </div>

  <!-- New Archetype Editor Modal -->
  <div id="archetype-editor-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3><i class="fas fa-edit"></i> Archetype Editor</h3>
      <div>
        <label for="new-archetype-name">Archetype Name:</label>
        <input type="text" id="new-archetype-name" placeholder="e.g., Necromancer">
      </div>
      <div>
        <h4><i class="fas fa-sliders-h"></i> Base Modifiers:</h4>
        <div class="modifier-input">
          <select class="stat-select">
            <option value="strength">Strength</option>
            <option value="speed">Speed</option>
            <option value="resistance">Resistance</option>
            <option value="intelligence">Intelligence</option>
            <option value="charisma">Charisma</option>
            <option value="maestry">Maestry</option>
            <option value="perception">Perception</option>
            <option value="will">Will</option>
            <option value="bravery">Bravery</option>
            <option value="mana">Mana</option>
            <option value="luck">Luck</option>
            <option value="stealth">Stealth</option>
            <option value="size">Size</option>
          </select>
          <input type="number" class="modifier-value" placeholder="+2">
          <button class="add-modifier"><i class="fas fa-plus"></i> Add</button>
        </div>
        <ul id="archetype-editor-modifier-list"></ul>
      </div>
      <div>
        <h4><i class="fas fa-layer-group"></i> Subclasses:</h4>
        <div class="extra-section-input">
          <input type="text" id="new-subclass-name" placeholder="e.g., Blood Mage">
          <button id="add-subclass"><i class="fas fa-plus"></i> Add Subclass</button>
        </div>
        <div id="subclass-modifiers-container"></div>
      </div>
      <div>
        <h4><i class="fas fa-level-up-alt"></i> Level Benefits:</h4>
        <div class="input-group">
          <select id="level-select">
            <option value="1">Level 1</option>
            <option value="15">Level 15</option>
            <option value="30">Level 30</option>
            <option value="50">Level 50</option>
            <option value="100">Level 100</option>
          </select>
          <button id="add-level-section"><i class="fas fa-plus"></i> Add Level Section</button>
        </div>
        <div id="level-benefits-container"></div>
      </div>
      <div class="action-buttons">
        <button id="save-archetype"><i class="fas fa-save"></i> Save Archetype</button>
        <button id="delete-archetype"><i class="fas fa-trash"></i> Delete Archetype</button>
        <button id="reset-archetype-editor"><i class="fas fa-undo"></i> Reset Editor</button>
      </div>
    </div>
  </div>

  <!-- Race Editor Modal -->
  <div id="race-editor-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3><i class="fas fa-edit"></i> Race Editor</h3>
      <div>
        <label for="new-race-name">Race Name:</label>
        <input type="text" id="new-race-name" placeholder="e.g., Vampire">
      </div>
      <div>
        <h4><i class="fas fa-sliders-h"></i> Base Modifiers:</h4>
        <div class="modifier-input">
          <select class="stat-select">
            <option value="strength">Strength</option>
            <option value="speed">Speed</option>
            <option value="resistance">Resistance</option>
            <option value="intelligence">Intelligence</option>
            <option value="charisma">Charisma</option>
            <option value="maestry">Maestry</option>
            <option value="perception">Perception</option>
            <option value="will">Will</option>
            <option value="bravery">Bravery</option>
            <option value="mana">Mana</option>
            <option value="luck">Luck</option>
            <option value="stealth">Stealth</option>
            <option value="size">Size</option>
          </select>
          <input type="number" class="modifier-value" placeholder="+2">
          <button class="add-modifier"><i class="fas fa-plus"></i> Add</button>
        </div>
        <ul id="editor-modifier-list"></ul>
      </div>
      <div>
        <h4><i class="fas fa-layer-group"></i> Extra Sections:</h4>
        <div class="extra-section-input">
          <input type="text" id="new-section-name" placeholder="e.g., Human Potential">
          <button id="add-section"><i class="fas fa-plus"></i> Add Section</button>
        </div>
        <div id="section-modifiers-container"></div>
      </div>
      <div class="action-buttons">
        <button id="save-race"><i class="fas fa-save"></i> Save Race</button>
        <button id="delete-race"><i class="fas fa-trash"></i> Delete Race</button>
        <button id="reset-editor"><i class="fas fa-undo"></i> Reset Editor</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/data.js"></script>
  <script src="js/stats.js"></script>
  <script src="js/races.js"></script>
  <script src="js/archetypes.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
